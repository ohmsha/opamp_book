Version 4
SHEET 1 924 756
WIRE -32 0 -80 0
WIRE 0 0 -32 0
WIRE -80 32 -80 0
WIRE 288 32 112 32
WIRE 336 32 288 32
WIRE 448 32 416 32
WIRE 576 32 448 32
WIRE 704 32 576 32
WIRE 448 64 448 32
WIRE 288 80 288 32
WIRE 640 80 640 64
WIRE 208 96 208 80
WIRE 640 128 640 80
WIRE 208 144 208 96
WIRE 576 144 576 32
WIRE 608 144 576 144
WIRE -80 160 -80 112
WIRE 112 160 112 32
WIRE 176 160 112 160
WIRE 704 160 704 32
WIRE 704 160 672 160
WIRE 736 160 704 160
WIRE 288 176 288 144
WIRE 288 176 240 176
WIRE 368 176 288 176
WIRE 448 176 448 144
WIRE 448 176 432 176
WIRE 464 176 448 176
WIRE 560 176 528 176
WIRE 608 176 560 176
WIRE 80 192 64 192
WIRE 176 192 80 192
WIRE 560 224 560 176
WIRE 640 224 640 192
WIRE 64 240 64 192
WIRE 208 240 208 208
WIRE 640 240 640 224
WIRE 208 256 208 240
WIRE 560 320 560 288
WIRE 64 352 64 320
WIRE 448 368 448 352
WIRE 512 368 512 352
WIRE 448 416 448 368
WIRE 512 416 512 368
WIRE 448 512 448 496
WIRE 512 512 512 496
FLAG 448 512 0
FLAG 512 512 0
FLAG 448 368 VEE
FLAG 512 368 VCC
FLAG 208 96 VCC
FLAG 208 240 VEE
FLAG 736 160 VOUT
IOPIN 736 160 Out
FLAG 640 80 VCC
FLAG 640 224 VEE
FLAG 560 320 0
FLAG 64 352 0
FLAG -80 160 0
FLAG 80 192 VIN
FLAG -32 0 VSRC
FLAG 560 176 VCH
SYMBOL voltage -80 16 R0
WINDOW 0 10 99 Left 2
WINDOW 3 30 125 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 1 4k)
SYMBOL diode 272 80 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL Misc\\battery 512 400 R0
WINDOW 0 14 6 Left 2
WINDOW 3 15 96 Left 2
SYMATTR InstName VS1
SYMATTR Value 15
SYMBOL Misc\\battery 448 512 R180
WINDOW 0 24 104 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName VS2
SYMATTR Value 15
SYMBOL diode 368 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL Opamps\\AD8034 208 112 R0
SYMATTR InstName U1
SYMBOL Opamps\\AD8034 640 96 R0
SYMATTR InstName U2
SYMBOL cap 544 224 R0
SYMATTR InstName C1
SYMATTR Value 100pF
SYMBOL diode 464 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 432 48 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 432 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL bv 64 224 R0
SYMATTR InstName B1
SYMATTR Value V=V(VSRC)*(1-(1/exp(1000*time)))
TEXT 80 -32 Left 2 !.tran 0 2m 0 1u
TEXT 88 0 Left 2 !.ic V(VCH)=0
